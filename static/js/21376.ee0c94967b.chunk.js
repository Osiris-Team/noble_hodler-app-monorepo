"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[21376],{793437:(e,n,t)=>{t.d(n,{X:()=>OpenInAppButton});var r=t(586330),s=t(514041),i=t(908867),o=t(17617),a=t(490343),l=t(889949),c=t(726130),u=t(254491),d=t(663522),p=t(117746),f=t(911998),b=t(831085);function OpenInAppButton({buildDeepLinkUrl:e,buildFullUrl:n}){var t=(0,i.A)(),{result:h}=(0,f.yk)((0,r.A)((function*(){var n=e();return(yield p.Ay.linkingCanOpenURL(n))?n:""})),[e]),g=((0,s.useMemo)((function(){return d.Ay.isWebMobile?d.Ay.isWebMobileAndroid?"Open by OneKey Android":d.Ay.isWebMobileIOS?"Open by OneKey iOS":void 0:"Open by OneKey Desktop"}),[]),(0,s.useCallback)((0,r.A)((function*(){var e=yield n();a.Dialog.show({title:t.formatMessage({id:u.ETranslations.open_in_mobile_app}),floatingPanelProps:{overflow:"hidden"},renderContent:(0,b.jsxs)(a.Stack,{children:[(0,b.jsx)(a.Stack,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:(0,b.jsx)(a.Stack,{p:"$4",borderRadius:"$6",borderCurve:"continuous",borderWidth:o.A.hairlineWidth,borderColor:"$borderSubdued",children:(0,b.jsx)(a.QRCode,{value:e,logo:l,logoSize:40,size:224})})}),(0,b.jsxs)(a.XStack,{m:"$-5",mt:"$5",py:"$4",px:"$5",backgroundColor:"$bgSubdued",alignItems:"center",children:[(0,b.jsx)(a.SizableText,{size:"$bodyMd",color:"$textSubdued",flex:1,children:t.formatMessage({id:u.ETranslations.dont_have_mobile_app_yet})}),(0,b.jsx)(a.Button,{size:"small",onPress:function(){(0,p.Dr)(c.A8)},children:t.formatMessage({id:u.ETranslations.global_download})})]})]}),showFooter:!1})})),[n,t]));return(0,b.jsx)(a.Button,{size:"small",onPress:g,children:t.formatMessage({id:u.ETranslations.open_in_mobile_app})})}},714519:(e,n,t)=>{t.d(n,{t:()=>showNotificationPermissionsDialog});var r=t(586330),s=t(490343),i=t(276360),o=t(610421),a=t(831085),showNotificationPermissionsDialog=function(){return s.Dialog.show({title:"通知权限",renderContent:(0,a.jsxs)(s.Stack,{children:[(0,a.jsx)(s.SizableText,{children:"手动开启权限的步骤引导： 1、2、3"}),(0,a.jsx)(s.SizableText,{children:"更多详情，请查看帮助中心 →"}),(0,a.jsx)(s.Button,{onPress:function(){o.A.serviceNotification.openPermissionSettings()},children:"前往权限设置页 → （部分端可能无法跳转，或跳转错误）"}),(0,a.jsx)(s.Button,{onPress:function(){o.A.serviceNotification.showNotification({title:"test message",description:"This is a test message"})},children:"消息测试"})]}),onConfirmText:"开启权限",onConfirm:(e=(0,r.A)((function*({close:e,preventClose:n}){n(),(yield o.A.serviceNotification.enableNotificationPermissions()).permission===i.cf.granted&&(yield e())})),function onConfirm(n){return e.apply(this,arguments)})});var e}},660823:(e,n,t)=>{t.d(n,{i:()=>TabPageHeader});var r=t(514041),s=t(490343),i=t(901976),o=t(162616),a=t(208257),l=t(325809),c=t(714191),u=t(831085);function HeaderLeft({sceneName:e}){var n=(0,r.useMemo)((function(){return e===c.Zs.homeUrlAccount?(0,u.jsx)(s.Page.Close,{children:(0,u.jsx)(s.NavBackButton,{})}):(0,u.jsx)(l.Qt,{num:0},"accountSelectorTrigger")}),[e]);return(0,u.jsx)(l.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:n})}var d=t(324586),p=t(586330),f=t(908867),b=t(896666),h=t(384013),g=t(259227),m=t(254491),j=t(663522),x=t(392097),A=t(251039),y=t(596020),S=t(610421),v=t(498356),O=t(793437),w=t(211129),P=t(491180),k=t(796151),C=t(826339);function OpenInAppButtonContainer(){var{activeAccount:{account:e,network:n}}=(0,o.LH)({num:0}),t=(0,r.useCallback)((function(){return e&&n?k.Ay.buildDeepLinkUrl({path:w.oO.url_account,query:{networkCode:n.code,address:e.address}}):""}),[e,n]),s=(0,r.useCallback)((0,p.A)((function*(){return e&&n?(0,C.Hw)({account:e,network:n}):"n"})),[e,n]);return e?.address&&n?.id?(0,u.jsx)(O.X,{buildDeepLinkUrl:t,buildFullUrl:s}):null}function ShareButton(){var{activeAccount:{account:e,network:n}}=(0,o.LH)({num:0}),{shareText:t}=(0,s.useShare)();return e?.address&&n?.id?(0,u.jsx)(s.HeaderIconButton,{onPress:(0,p.A)((function*(){var r=yield(0,C.Hw)({account:e,network:n});yield t(r)})),icon:"ShareOutline"}):null}var T={Address:function Address(){var{activeAccount:{account:e}}=(0,o.LH)({num:0});return(0,s.useMedia)(),(0,u.jsxs)(s.XStack,{alignItems:"center",children:[(0,u.jsx)(s.SizableText,{size:"$headingLg",children:P.A.shortenAddress({address:e?.address})}),null]})},OpenInApp:function OpenInApp(){return(0,u.jsx)(l.b8,{config:{sceneName:c.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,u.jsx)(OpenInAppButtonContainer,{})})},Share:function Share(){return(0,u.jsx)(l.b8,{config:{sceneName:c.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,u.jsx)(ShareButton,{})})}},M=t(834015),N=t(714519),$=t(390574),_=t(506851);function UniversalSearchInput(){var e=(0,f.A)(),n=(0,v.A)(),t=(0,r.useCallback)((function(){n.pushModal(x.ry.UniversalSearchModal,{screen:$.j.UniversalSearch,params:{filterType:_.j.Address}})}),[n]);return(0,u.jsxs)(s.XStack,{w:280,children:[(0,u.jsx)(s.Input,{leftIconName:"SearchOutline",containerProps:{w:"100%"},size:"small",placeholder:e.formatMessage({id:m.ETranslations.global_search_address})},"searchInput"),(0,u.jsx)(s.View,{position:"absolute",top:0,left:0,right:0,bottom:0,onPress:t})]})}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,d.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function HeaderRight({sceneName:e}){var n=(0,f.A)(),t=(0,v.A)(),i=(0,M.A)(),[{firstTimeGuideOpened:a,badge:l},d]=(0,g.useNotificationsAtom)(),{activeAccount:{account:O}}=(0,o.LH)({num:0}),[w]=(0,h.RI)(),[P]=(0,h.D4)(),k=(0,r.useCallback)((function(){t.pushModal(x.ry.SettingModal,{screen:x.Pj.SettingListModal})}),[t]),C=(0,r.useCallback)((function(){return i.start({handlers:i.PARSE_HANDLER_NAMES.all,autoHandleResult:!0,account:O,tokens:{data:w.tokens,keys:w.keys,map:P}})}),[i,O,w,P]),$=(0,s.useMedia)(),_=(0,r.useCallback)((0,p.A)((function*(){if(!a)return(0,N.t)(),void d((function(e){return _objectSpread(_objectSpread({},e),{},{firstTimeGuideOpened:!0})}));t.pushModal(x.ry.NotificationsModal,{screen:A.f.NotificationList})})),[a,t,d]),E=(0,r.useMemo)((function(){var t,r,i,o=(0,u.jsx)(b.v$,{title:n.formatMessage({id:m.ETranslations.settings_settings}),icon:"SettingsOutline",testID:"setting",onPress:k},"setting"),d={routes:""},f=(0,u.jsx)(s.ActionList,{title:n.formatMessage({id:m.ETranslations.global_layout}),items:[j.Ay.isExtensionUiPopup?{label:n.formatMessage({id:m.ETranslations.open_as_sidebar}),icon:"LayoutRightOutline",onPress:(i=(0,p.A)((function*(){yield y.Ay.openPanelOnActionClick(!0),yield y.Ay.openSidePanel(d),window.close()})),function onPress(){return i.apply(this,arguments)})}:{label:n.formatMessage({id:m.ETranslations.open_as_popup}),icon:"LayoutTopOutline",onPress:(r=(0,p.A)((function*(){yield y.Ay.openPanelOnActionClick(!1),window.close()})),function onPress(){return r.apply(this,arguments)})},{label:n.formatMessage({id:m.ETranslations.global_expand_view}),icon:"ExpandOutline",onPress:(t=(0,p.A)((function*(){window.close(),yield S.A.serviceApp.openExtensionExpandTab(d)})),function onPress(){return t.apply(this,arguments)})}],renderTrigger:(0,u.jsx)(b.v$,{title:n.formatMessage({id:m.ETranslations.global_layout}),icon:"LayoutRightOutline"},"layoutRightView")}),h=(0,u.jsx)(b.v$,{title:n.formatMessage({id:m.ETranslations.scan_scan_qr_code}),icon:"ScanOutline",onPress:C},"scan"),g=(0,u.jsxs)(s.Stack,{children:[(0,u.jsx)(b.v$,{title:n.formatMessage({id:m.ETranslations.global_notifications}),icon:"BellOutline",onPress:_},"notifications"),!a||l?(0,u.jsx)(s.Stack,{borderRadius:"$full",bg:"$bgApp",position:"absolute",right:"$-2.5",top:"$-2",borderWidth:2,borderColor:"$transparent",pointerEvents:"none",children:(0,u.jsx)(s.Stack,{px:"$1",borderRadius:"$full",bg:"$bgCriticalStrong",minWidth:"$4",minHeight:"$4",alignItems:"center",justifyContent:"center",children:a?(0,u.jsx)(s.SizableText,{color:"$textOnColor",size:"$bodySm",children:l}):(0,u.jsx)(s.Stack,{width:"$1",height:"$1",backgroundColor:"white",borderRadius:"$full"})})}):null]}),x=$.gtMd?(0,u.jsx)(UniversalSearchInput,{},"searchInput"):null;return e===c.Zs.homeUrlAccount?[(0,u.jsx)(T.OpenInApp,{},"urlAccountOpenInApp"),(0,u.jsx)(T.Share,{},"urlAccountShare")].filter(Boolean):j.Ay.isExtensionUiPopup||j.Ay.isExtensionUiSidePanel?[f,g,o]:[h,g,o,x]}),[n,k,C,_,l,a,$.gtMd,e]);return(0,u.jsx)(b.bE,{testID:"Wallet-Page-Header-Right",className:"app-region-no-drag",children:E})}function HeaderTitle({sceneName:e}){var n=(0,r.useMemo)((function(){if(e===c.Zs.homeUrlAccount)return(0,u.jsx)(T.Address,{},"urlAccountNavHeaderAddress")}),[e]);return(0,u.jsx)(l.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:n})}function TabPageHeader({sceneName:e,showHeaderRight:n}){(0,i.e)({name:`web TabPageHeader:${e}:${String(n)}`});var t=(0,r.useCallback)((function(){return(0,u.jsx)(HeaderLeft,{sceneName:e})}),[e]),{config:c}=(0,o.H9)(),d=(0,r.useCallback)((function(){return n&&c?(0,u.jsx)(a.p,{children:(0,u.jsx)(l.b8,{enabledNum:[0],config:c,children:(0,u.jsx)(HeaderRight,{sceneName:e})})}):null}),[c,e,n]),p=(0,r.useCallback)((function(){return(0,u.jsx)(HeaderTitle,{sceneName:e})}),[e]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Page.Header,{headerTitle:p,headerLeft:t,headerRight:d})})}},321376:(e,n,t)=>{t.r(n),t.d(n,{default:()=>views_Swap});var r=t(901976),s=t(714191),i=t(325809),o=t(490343),a=t(660823),l=t(138169),c=t(831085);const pages_SwapPageContainer=function(){return(0,r.e)({name:"SwapPageContainer"}),(0,c.jsxs)(o.Page,{fullPage:!0,children:[(0,c.jsx)(a.i,{sceneName:s.Zs.swap,showHeaderRight:!1}),(0,c.jsx)(o.Page.Body,{children:(0,c.jsx)(l.A,{})})]})};const views_Swap=function(){return(0,r.e)({name:"SwapRoutePage"}),(0,c.jsx)(i.b8,{config:{sceneName:s.Zs.swap,sceneUrl:""},enabledNum:[0,1],children:(0,c.jsx)(pages_SwapPageContainer,{})})}}}]);