"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[37674],{326745:(e,t,n)=>{n.d(t,{u:()=>useAppRoute});var r=n(654266);function useAppRoute(){return(0,r.lq)()}},138584:(e,t,n)=>{n.d(t,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var r=n(908867),o=n(490343),i=n(254491),s=n(831085),PageErrOccurred=function({onPress:e}){var t=(0,r.A)();return(0,s.jsx)(o.Empty,{icon:"ErrorOutline",title:t.formatMessage({id:i.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:i.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:i.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,s.jsx)(o.Stack,{w:"100%",h:"$40",jc:"center",ai:"center",children:(0,s.jsx)(o.Spinner,{size:"large"})})},isLoadingState=function({result:e,isLoading:t}){return Boolean(void 0===e&&(void 0===t||!0===t))},isErrorState=function({result:e,isLoading:t}){return Boolean(void 0===e&&!1===t)},PageFrame=function({children:e,loading:t,LoadingSkeleton:n,error:r,onRefresh:o}){return t?n?(0,s.jsx)(n,{}):null:r?(0,s.jsx)(PageErrOccurred,{onPress:o}):(0,s.jsx)(s.Fragment,{children:e})}},637674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(487809),o=n.n(r),i=n(514041),s=n(908867),a=n(490343),l=n(610421),u=n(791088),c=n(326745),d=n(911998),m=n(254491),f=n(567807),g=n(138584),p=n(831085),HistoryItem=function({item:e,provider:t,token:n}){return(0,p.jsx)(u.c,{avatarProps:{src:n?.logoURI},title:e.title,subtitle:t,children:(0,p.jsx)(a.YStack,{children:e.amount&&Number(e.amount)>0?(0,p.jsx)(a.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:n?.symbol,showPlusMinusSigns:!0},children:`${"send"===e.direction?"-":"+"}${e.amount}`}):null})})},keyExtractor=function(e){var t=e?.txHash;return t},HistoryContent=function({items:e,network:t,tokenMap:n,provider:r}){var l=(0,i.useMemo)((function(){var t=o()(e,(function(e){return(0,f.Yq)(new Date(1e3*e.timestamp),{hideTimeForever:!0})}));return Object.entries(t).map((function([e,t]){return{title:e,data:t}})).sort((function(e,t){return t.data[0].timestamp-e.data[0].timestamp}))}),[e]),u=(0,i.useCallback)((function({item:e}){return(0,p.jsx)(HistoryItem,{item:e,network:t,token:n[e.tokenAddress],provider:r})}),[t,n,r]),c=(0,i.useCallback)((function({section:e}){return(0,p.jsx)(a.SectionList.SectionHeader,{title:e.title,justifyContent:"space-between"})}),[]),d=(0,s.A)();return(0,p.jsx)(a.SectionList,{estimatedItemSize:"$14",sections:l,renderItem:u,renderSectionHeader:c,keyExtractor,ListEmptyComponent:(0,p.jsx)(a.Empty,{icon:"ClockTimeHistoryOutline",title:d.formatMessage({id:m.ETranslations.global_no_transactions_yet}),description:d.formatMessage({id:m.ETranslations.global_no_transactions_yet_desc})})})};const __WEBPACK_DEFAULT_EXPORT__=function(){var e=(0,c.u)(),{accountId:t,networkId:n,symbol:r,provider:o}=e.params,{result:i,isLoading:u,run:f}=(0,d.yk)((function(){return l.A.serviceStaking.getStakeHistory({accountId:t,networkId:n,symbol:r,provider:o})}),[t,n,r,o],{watchLoading:!0}),b=(0,s.A)();return(0,p.jsxs)(a.Page,{scrollEnabled:!0,children:[(0,p.jsx)(a.Page.Header,{title:b.formatMessage({id:m.ETranslations.global_history})}),(0,p.jsx)(a.Page.Body,{children:(0,p.jsx)(g.bU,{LoadingSkeleton:g.Py,error:(0,g.o0)({result:i,isLoading:u}),loading:(0,g.am)({result:i,isLoading:u}),onRefresh:f,children:i?(0,p.jsx)(HistoryContent,{items:i.list,network:i.network,tokenMap:i.tokenMap,provider:o}):null})})]})}}}]);