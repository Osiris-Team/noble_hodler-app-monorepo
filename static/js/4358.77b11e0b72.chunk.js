"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4358],{326745:(e,r,t)=>{t.d(r,{u:()=>useAppRoute});var n=t(654266);function useAppRoute(){return(0,n.lq)()}},338443:(e,r,t)=>{t.d(r,{m:()=>OptionList});var n=t(586330),o=t(324586),a=t(514041),i=t(908867),s=t(17617),l=t(490343),d=t(391944),c=t(498356),u=t(259227),m=t(254491),f=t(18910),b=t(831085);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=(0,a.createContext)({}),ExtraField=function({name:e,renderItem:r,item:t}){return(0,b.jsxs)(l.XStack,{justifyContent:"space-between",children:[(0,b.jsx)(l.SizableText,{size:"$bodyMd",color:"$textSubdued",children:e}),(0,b.jsx)(l.SizableText,{size:"$bodyMd",color:"$textSubdued",children:r({item:t})})]})},OptionItem=function({item:e,token:r,network:t,onPress:n}){var[{currencyInfo:{symbol:o}}]=(0,u.useSettingsPersistAtom)(),{extraFields:c,activeId:p}=(0,a.useContext)(g),x=p===e.id,j=(0,i.A)();return(0,b.jsx)(l.Stack,{px:"$5",py:"$2",children:(0,b.jsxs)(l.YStack,_objectSpread(_objectSpread({onPress:function(){return n?.({item:e})},borderWidth:s.A.hairlineWidth,borderColor:x?"$borderActive":"$borderSubdued",borderRadius:"$3",overflow:"hidden"},f.Y),{},{children:[(0,b.jsxs)(l.XStack,{bg:"$bgSubdued",px:14,py:12,jc:"space-between",ai:"center",children:[(0,b.jsxs)(l.XStack,{children:[(0,b.jsx)(l.Stack,{pr:"$3",children:(0,b.jsx)(d.o,{tokenImageUri:r.logoURI,networkImageUri:t?.logoURI})}),(0,b.jsxs)(l.YStack,{children:[(0,b.jsx)(l.NumberSizeableText,{formatter:"balance",formatterOptions:{tokenSymbol:r?.symbol},children:e.amount}),(0,b.jsx)(l.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:o},children:e.fiatValue})]})]}),e.isPending?(0,b.jsx)(l.Stack,{children:(0,b.jsx)(l.Badge,{badgeType:"info",children:j.formatMessage({id:m.ETranslations.global_pending})})}):null]}),c&&c.length>0?(0,b.jsx)(l.YStack,{py:12,px:14,gap:10,children:c.map((function(r){return(0,b.jsx)(a.Suspense,{fallback:null,children:(0,b.jsx)(ExtraField,{name:r.name,renderItem:r.renderItem,item:e})},r.name)}))}):null]}))})},ListEmptyComponent=function(){var e=(0,i.A)();return(0,b.jsx)(l.Empty,{icon:"ClockTimeHistoryOutline",title:e.formatMessage({id:m.ETranslations.global_no_transactions_yet}),description:e.formatMessage({id:m.ETranslations.global_no_transactions_yet_desc})})},OptionList=function({items:e,token:r,network:t,onPress:o,onConfirmText:i,extraFields:s}){var d=(0,c.A)(),[u,m]=(0,a.useState)(e[0]?.id),[f,p]=(0,a.useState)(!1),x=(0,a.useCallback)((function({item:e}){return(0,b.jsx)(OptionItem,{item:e,token:r,network:t,onPress:function({item:e}){return m(e.id)}})}),[r,t]),j=(0,a.useCallback)((0,n.A)((function*(){var r=e.find((function(e){return e.id===u}));if(r)try{p(!0),yield o?.({item:r})}finally{p(!1)}})),[e,u,o]),h=(0,a.useMemo)((function(){return{extraFields:s,activeId:u}}),[s,u]),y=(0,a.useMemo)((function(){return!u||!e.find((function(e){return e.id===u&&!e.isPending}))}),[u,e]);return(0,b.jsx)(g.Provider,{value:h,children:(0,b.jsxs)(l.Stack,{children:[(0,b.jsx)(l.ListView,{estimatedItemSize:"$5",data:e,renderItem:x,ListEmptyComponent}),(0,b.jsx)(l.Page.Footer,{onConfirmText:i,confirmButtonProps:{onPress:j,disabled:y,loading:f},cancelButtonProps:{onPress:function(){d.pop()}}})]})})}},138584:(e,r,t)=>{t.d(r,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var n=t(908867),o=t(490343),a=t(254491),i=t(831085),PageErrOccurred=function({onPress:e}){var r=(0,n.A)();return(0,i.jsx)(o.Empty,{icon:"ErrorOutline",title:r.formatMessage({id:a.ETranslations.global_an_error_occurred}),description:r.formatMessage({id:a.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:r.formatMessage({id:a.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,i.jsx)(o.Stack,{w:"100%",h:"$40",jc:"center",ai:"center",children:(0,i.jsx)(o.Spinner,{size:"large"})})},isLoadingState=function({result:e,isLoading:r}){return Boolean(void 0===e&&(void 0===r||!0===r))},isErrorState=function({result:e,isLoading:r}){return Boolean(void 0===e&&!1===r)},PageFrame=function({children:e,loading:r,LoadingSkeleton:t,error:n,onRefresh:o}){return r?t?(0,i.jsx)(t,{}):null:n?(0,i.jsx)(PageErrOccurred,{onPress:o}):(0,i.jsx)(i.Fragment,{children:e})}},304358:(e,r,t)=>{t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(514041),o=t(908867),a=t(490343),i=t(610421),s=t(498356),l=t(326745),d=t(911998),c=t(254491),u=t(392097),m=t(567807),f=t(184251),b=t(338443),g=t(138584),p=t(544577),x=t(831085);const __WEBPACK_DEFAULT_EXPORT__=function(){var e=(0,l.u)(),r=(0,o.A)(),t=(0,s.A)(),{accountId:j,networkId:h,symbol:y,provider:k,details:w}=e.params,{result:v,isLoading:S,run:_}=(0,d.yk)((function(){return i.A.serviceStaking.getWithdrawList({networkId:h,accountId:j,symbol:y,provider:k})}),[j,h,y,k],{watchLoading:!0}),P=(0,n.useCallback)((function({item:e}){t.push(u.Ax.Withdraw,{accountId:j,networkId:h,symbol:y,provider:k,details:w,identity:e.id,amount:e.amount,onSuccess:function(){setTimeout((function(){return t.pop()}),4)}})}),[t,j,h,y,k,w]),T=(0,p.B)();return(0,x.jsxs)(a.Page,{scrollEnabled:!0,children:[(0,x.jsx)(a.Page.Header,{title:r.formatMessage({id:c.ETranslations.earn_withdraw_token},{token:y})}),(0,x.jsx)(a.Page.Body,{children:(0,x.jsx)(g.bU,{LoadingSkeleton:g.Py,loading:(0,g.am)({result:v,isLoading:S}),error:(0,g.o0)({result:v,isLoading:S}),onRefresh:_,children:v?(0,x.jsx)(b.m,{items:v.items,token:v.token,network:v.network,onPress:P,onConfirmText:r.formatMessage({id:c.ETranslations.global_withdraw}),extraFields:f.A.isBTCNetwork(h)?[{name:r.formatMessage({id:c.ETranslations.global_status}),renderItem({item:e}){var r;return e.babylonExtra?null!=(r=T[(0,p.U)(e.babylonExtra)])?r:e.babylonExtra.status:""}},{name:r.formatMessage({id:c.ETranslations.earn_unlock_time}),renderItem:({item:e})=>e.babylonExtra?.endTime?(0,m.Yq)(new Date(e.babylonExtra?.endTime),{hideTimeForever:!0}):""}]:void 0}):null})})]})}},544577:(e,r,t)=>{t.d(r,{B:()=>useBabylonStatusMap,U:()=>getBabylonPortfolioStatus});var n=t(514041),o=t(908867),a=t(254491),getBabylonPortfolioStatus=function(e){return e.isOverflow?"overflow":e.status},useBabylonStatusMap=function(){var e=(0,o.A)();return(0,n.useMemo)((function(){return{active:e.formatMessage({id:a.ETranslations.earn_active}),withdraw_requested:e.formatMessage({id:a.ETranslations.earn_withdrawal_requested}),overflow:e.formatMessage({id:a.ETranslations.earn_overflow}),claimable:e.formatMessage({id:a.ETranslations.earn_claim}),claimed:e.formatMessage({id:a.ETranslations.earn_claimed})}}),[e])}}}]);